(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{190:function(e,a,t){},191:function(e,a,t){},314:function(e,a,t){"use strict";t.r(a);var r=t(0),i=t.n(r),n=t(53),s=t.n(n),o=(t(190),t(191),t(38)),c=t(59),l=t.n(c),d=t(62),u=t(391),j=t(384),b=t(368),h=t(373),m=t(385),p=t(41),x="localhost"===window.location.hostname.split(":")[0]?"http://localhost:5000":"",O=t(18),v=t(1),f=o.a({email:o.b("Enter your email").email("Enter a valid email").required("Email is required"),password:o.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required"),name:o.b("Enter your name").required("Name is required")});function g(){var e=Object(O.f)(),a=Object(d.a)({validationSchema:f,initialValues:{name:"",email:"",password:""},onSubmit:function(a,t){t.resetForm;l.a.post("".concat(x,"/api/v1/signup"),{name:a.name,email:a.email,password:a.password}).then((function(a){console.log("res: ",a.data),a.data&&e.push("/login")}))}});return Object(v.jsx)("div",{className:"SignUpMain",children:Object(v.jsx)(u.a,{sx:{marginTop:"5%"},children:Object(v.jsxs)(j.a,{sx:{p:5,margin:"auto",maxWidth:500,flexGrow:1},children:[Object(v.jsx)("h1",{children:" Sign Up"}),Object(v.jsx)("form",{onSubmit:a.handleSubmit,children:Object(v.jsxs)(b.a,{spacing:2,children:[Object(v.jsx)(h.a,{fullWidth:!0,color:"primary",id:"name",label:"Name",variant:"outlined",name:"name",value:a.values.name,onChange:a.handleChange,error:a.touched.name&&Boolean(a.errors.name),helperText:a.touched.name&&a.errors.name}),Object(v.jsx)(h.a,{fullWidth:!0,color:"primary",id:"email",label:"Email",variant:"outlined",name:"email",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email}),Object(v.jsx)(h.a,{fullWidth:!0,color:"primary",id:"password",label:"Password",variant:"outlined",type:"password",name:"password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password}),Object(v.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Sign Up"}),Object(v.jsx)(p.b,{to:"/login",children:"Already Have an Account? Login"})]})})]})})})}var y=t(12),w=t(377);function S(e){return Object(v.jsx)(b.a,{sx:{width:"100%",position:"absolute"},spacing:2,children:Object(v.jsx)(w.a,{severity:e.type,children:e.message})})}var C=t(54),E=function(e,a){switch(a.type){case"USER_LOGIN":return a.payload.token&&a.payload.name&&a.payload.email&&a.payload._id&&a.payload.created?(console.log("CurrentUser ==>",a.payload),Object(C.a)(Object(C.a)({},e),{},{user:a.payload})):(console.log("invalid data in USER_LOGIN reducer ",a.payload),e);case"USER_LOGOUT":return Object(C.a)(Object(C.a)({},e),{},{user:null});default:return e}},L=Object(r.createContext)("Initial Value"),T={user:{}};function k(e){var a=e.children,t=Object(r.useReducer)(E,T),i=Object(y.a)(t,2),n=i[0],s=i[1];return Object(v.jsx)(L.Provider,{value:{state:n,dispatch:s},children:a})}var q=o.a({email:o.b("Enter your email").email("Enter a valid email").required("Email is required"),password:o.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required")});function A(){var e=Object(r.useContext)(L).dispatch,a=Object(O.f)(),t=Object(r.useState)(""),i=Object(y.a)(t,2),n=i[0],s=i[1],o=Object(d.a)({validationSchema:q,initialValues:{email:"",password:""},onSubmit:function(t){l.a.post("".concat(x,"/api/v1/login"),{email:t.email,password:t.password}).then((function(t){"error"!==t.data?(e({type:"USER_LOGIN",payload:{token:t.data.token,name:t.data.name,email:t.data.email,_id:t.data._id,created:t.data.created}}),s(!0),setTimeout((function(){a.push("/profile"),s([])}),1e3)):(s(!1),setTimeout((function(){s([])}),1e3))}))}});return Object(v.jsxs)("div",{className:"LoginMain",children:[!0===n?Object(v.jsx)(S,{type:"success",message:"Welcome"}):"",!1===n?Object(v.jsx)(S,{type:"error",message:"Invalid email or password"}):"",Object(v.jsx)(u.a,{sx:{marginTop:"5%"},children:Object(v.jsxs)(j.a,{sx:{p:5,margin:"auto",maxWidth:500,flexGrow:1},children:[Object(v.jsx)("h1",{children:" Log In"}),Object(v.jsx)("form",{onSubmit:o.handleSubmit,children:Object(v.jsxs)(b.a,{spacing:2,children:[Object(v.jsx)(h.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Email",variant:"outlined",name:"email",value:o.values.email,onChange:o.handleChange,error:o.touched.email&&Boolean(o.errors.email),helperText:o.touched.email&&o.errors.email}),Object(v.jsx)(h.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Password",variant:"outlined",type:"password",name:"password",value:o.values.password,onChange:o.handleChange,error:o.touched.password&&Boolean(o.errors.password),helperText:o.touched.password&&o.errors.password}),Object(v.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Log In"}),Object(v.jsx)(p.b,{to:"/signup",children:"Don't Have an Account? SignUp"})]})})]})})]})}var P=t(389),U=t(387),G=t(390),W=t(388),B=t(386),_=t(5),D=t(378),N=t(392),I=t(380),R=t(394),F=t(395),M=t(165),z=t.n(M),J=t(164),V=t.n(J),H=t(166),K=t.n(H),X=t(393),Q=t(382);function Y(){var e,a=Object(r.useContext)(L),t=a.state,n=(a.dispatch,i.a.useState({left:!1})),s=Object(y.a)(n,2),o=s[0],c=s[1],l=function(e,a){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&c(Object(C.a)(Object(C.a)({},o),{},Object(_.a)({},e,a)))}};return Object(v.jsx)("div",{children:Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(m.a,{color:"inherit",onClick:l("left",!0),children:"Profile"}),Object(v.jsx)(D.a,{anchor:"left",open:o.left,onClose:l("left",!1),onOpen:l("left",!0),children:(e="left",Object(v.jsxs)(U.a,{sx:{width:300},role:"presentation",onClick:l(e,!1),onKeyDown:l(e,!1),children:[Object(v.jsx)(N.a,{children:Object(v.jsxs)(I.a,{children:[Object(v.jsx)(Q.a,{alt:"User",sx:{width:56,height:56},src:"https://media-exp1.licdn.com/dms/image/C5103AQGAb_GYoLFM7A/profile-displayphoto-shrink_200_200/0/1564347397659?e=1639612800&v=beta&t=1zAw1iPqsETqK7DUN2nXvydn8wnz8n26I1pMPXUP0_c"}),Object(v.jsx)(W.a,{variant:"h6",gutterBottom:!0,component:"div",sx:{marginLeft:3,marginTop:1},children:t.user.name})]})}),Object(v.jsx)(X.a,{}),Object(v.jsxs)(N.a,{children:[Object(v.jsxs)(I.a,{button:!0,children:[Object(v.jsx)(R.a,{children:Object(v.jsx)(V.a,{})}),Object(v.jsx)(F.a,{primary:t.user.name})]},t.user.name),Object(v.jsxs)(I.a,{button:!0,children:[Object(v.jsx)(R.a,{children:Object(v.jsx)(z.a,{})}),Object(v.jsx)(F.a,{primary:t.user.email})]},t.user.email),Object(v.jsxs)(I.a,{button:!0,children:[Object(v.jsx)(R.a,{children:Object(v.jsx)(K.a,{})}),Object(v.jsx)(F.a,{primary:t.user.created})]},t.user.created)]}),Object(v.jsx)(X.a,{})]}))})]},"left")})}var Z=t(400),$=t(372),ee=t(375),ae=t(379),te=t(396),re=t(399),ie=t(398),ne=t(397),se=t(60),oe=t(383);function ce(e){return Object(v.jsx)("div",{children:Object(v.jsx)(oe.a,{container:!0,spacing:2,sx:{flexGrow:1},justifyContent:"center",children:e.posts.map((function(e){return Object(v.jsx)(oe.a,{item:!0,md:6,children:Object(v.jsxs)(te.a,{sx:{maxWidth:"auto",height:"250px"},children:[Object(v.jsx)(ne.a,{avatar:Object(v.jsx)(Q.a,{sx:{bgcolor:se.a[500]},"aria-label":"recipe",children:" A "}),title:e.user,subheader:e.created}),Object(v.jsx)(X.a,{}),Object(v.jsxs)(ie.a,{children:[Object(v.jsx)(W.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.subject}),Object(v.jsx)(W.a,{variant:"body2",color:"text.secondary",children:e.description})]}),Object(v.jsxs)(re.a,{children:[Object(v.jsx)(m.a,{size:"small",children:"Share"}),Object(v.jsx)(m.a,{size:"small",children:"Learn More"})]})]})},e._id)}))})})}var le=o.a({subject:o.b("Enter your Subject").required("Email is required"),description:o.b("Enter your Description").required("Password is required")});var de=function(){var e=i.a.useState("1"),a=Object(y.a)(e,2),t=a[0],n=a[1],s=Object(r.useContext)(L),o=s.state,c=(s.dispatch,Object(r.useState)([])),u=Object(y.a)(c,2),p=u[0],O=u[1],f=Object(r.useState)(!1),g=Object(y.a)(f,2),w=g[0],S=g[1];Object(r.useEffect)((function(){return l.a.get("".concat(x,"/api/v1/post")).then((function(e){console.log("POSTS in DB ==>",e);var a=[];e.data.forEach((function(e){a.unshift(e)})),O([].concat(a))})),function(){}}),[w]);var C=Object(d.a)({validationSchema:le,initialValues:{subject:"",description:""},onSubmit:function(e){console.log(e),l.a.post("".concat(x,"/api/v1/profile"),{user:o.user.name,email:o.user.email,subject:e.subject,description:e.description}).then((function(e){console.log("res: ",e.data),S(!w)}))}}),E=Object(r.useState)([{key:1,avatar:"U",user:"Usama Usman",date:"27 October 2021",main:"Dummy",Description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore temporibus porro quidem laborum maiores? Reprehenderit ratione ipsum recusandae nihil? Alias saepe porro possimus eligendi accusantium odit, at voluptates mollitia vel."},{key:2,avatar:"A",user:"Abdul Rafeh",date:"27 October 2021",main:"Abdul Rafeh",Description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore temporibus porro quidem laborum maiores? Reprehenderit ratione ipsum recusandae nihil? Alias saepe porro possimus eligendi accusantium odit, at voluptates mollitia vel."},{key:3,avatar:"J",user:"Javed Ali",date:"27 October 2021",main:"Javed Ali",Description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore temporibus porro quidem laborum maiores? Reprehenderit ratione ipsum recusandae nihil? Alias saepe porro possimus eligendi accusantium odit, at voluptates mollitia vel."}]),T=Object(y.a)(E,2);return T[0],T[1],Object(v.jsxs)("div",{children:[Object(v.jsx)(U.a,{sx:{m:3},children:Object(v.jsx)(j.a,{elevation:3,sx:{p:5},children:Object(v.jsx)("form",{onSubmit:C.handleSubmit,children:Object(v.jsxs)(b.a,{spacing:2,children:[Object(v.jsx)(h.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Subject",variant:"outlined",name:"subject",value:C.values.subject,onChange:C.handleChange,error:C.touched.subject&&Boolean(C.errors.subject),helperText:C.touched.subject&&C.errors.subject}),Object(v.jsx)(h.a,{fullWidth:!0,multiline:!0,color:"primary",id:"outlined-basic",label:"Description",variant:"outlined",name:"description",rows:4,value:C.values.description,onChange:C.handleChange,error:C.touched.description&&Boolean(C.errors.description),helperText:C.touched.description&&C.errors.description}),Object(v.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Post"})]})})})}),Object(v.jsx)(U.a,{sx:{width:"100%",typography:"body1"},children:Object(v.jsxs)($.a,{value:t,children:[Object(v.jsx)(U.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(v.jsxs)(ee.a,{onChange:function(e,a){n(a)},"aria-label":"lab API tabs example",centered:!0,children:[Object(v.jsx)(Z.a,{label:"News Feed",value:"1"}),Object(v.jsx)(Z.a,{label:"My Posts",value:"2"})]})}),Object(v.jsx)(ae.a,{value:"1",children:Object(v.jsx)(ce,{posts:p})}),Object(v.jsx)(ae.a,{value:"2",children:"Hello"})]})})]})};function ue(){var e=Object(O.f)(),a=Object(r.useContext)(L),t=a.state,i=a.dispatch,n=Object(r.useState)(""),s=Object(y.a)(n,2),o=s[0],c=s[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)(U.a,{sx:{flexGrow:1},children:Object(v.jsx)(P.a,{position:"static",children:Object(v.jsxs)(G.a,{children:[Object(v.jsx)(B.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2}}),Object(v.jsx)(W.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Dashboard"}),Object(v.jsx)(Y,{}),Object(v.jsx)(m.a,{color:"inherit",onClick:function(){var a;(null===t||void 0===t||null===(a=t.user)||void 0===a?void 0:a.name)?(c(!0),setTimeout((function(){e.push("/login"),i({type:"USER_LOGOUT",payload:null}),c([])}),1e3)):(c(!1),setTimeout((function(){c([])}),1e3))},children:"Logout"})]})})}),Object(v.jsx)(j.a,{variant:"outlined",children:Object(v.jsx)(de,{})}),!0===o?Object(v.jsx)(S,{type:"success",message:"Good bye!"}):"",!1===o?Object(v.jsx)(S,{type:"error",message:"Sorry! Something went wrong"}):""]})}function je(){var e=Object(O.f)();return Object(v.jsxs)("div",{children:[Object(v.jsx)(U.a,{sx:{flexGrow:1},children:Object(v.jsx)(P.a,{position:"static",children:Object(v.jsxs)(G.a,{children:[Object(v.jsx)(B.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2}}),Object(v.jsx)(W.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(v.jsx)("span",{onClick:function(){return e.push("/")},style:{cursor:"pointer"},children:"Task Application"})}),Object(v.jsx)(m.a,{color:"inherit",onClick:function(){return e.push("/login")},children:"Login"}),Object(v.jsx)(m.a,{color:"inherit",onClick:function(){return e.push("/signup")},children:"Signup"})]})})}),Object(v.jsx)("h1",{children:"Welcome to the App , Navigate to proceed"})]})}var be=function(){return Object(v.jsx)("div",{children:Object(v.jsxs)(O.c,{children:[Object(v.jsx)(O.a,{path:"/login",children:Object(v.jsx)(A,{})}),Object(v.jsx)(O.a,{path:"/profile",children:Object(v.jsx)(ue,{})}),Object(v.jsx)(O.a,{exact:!0,path:"/signup",children:Object(v.jsx)(g,{})}),Object(v.jsx)(O.a,{exact:!0,path:"/",children:Object(v.jsx)(je,{})})]})})},he=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,402)).then((function(a){var t=a.getCLS,r=a.getFID,i=a.getFCP,n=a.getLCP,s=a.getTTFB;t(e),r(e),i(e),n(e),s(e)}))};s.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(k,{children:Object(v.jsx)(p.a,{children:Object(v.jsx)(be,{})})})}),document.getElementById("root")),he()}},[[314,1,2]]]);
//# sourceMappingURL=main.fd784c01.chunk.js.map